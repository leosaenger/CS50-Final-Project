{% extends "layout.html" %}

{% block title %}
    Run Anywhere
{% endblock %}

{% block main %}

    <div id="map-container">
      <div id="map"></div>
    </div>
    <div id='geocoder' class='geocoder'></div>

    <script>
        // Renders a mapbox map
        mapboxgl.accessToken = 'pk.eyJ1IjoibGVvc2FlbmdlciIsImEiOiJjam9wOGVsczkwa2ZzM3FsMWQxdHc2NHZzIn0.2yb_-4yL8nlzA1eEFjDRKw';
        const map = new mapboxgl.Map({
            container: 'map', // References container
            style: 'mapbox://styles/leosaenger/cjop8gvrp2yz42ro2xlwzyhhn', // Custom styling
            center: [-71.116404, 42.374346], // Centered on Cambridge
            zoom: 13.6 // Zoom
        });

        // See user's location
        map.addControl(new mapboxgl.GeolocateControl({
          positionOptions: {
            enableHighAccuracy: true
          },
          trackUserLocation: true
        }));

        var geocoder = new MapboxGeocoder({
          accessToken: mapboxgl.accessToken
        });

        document.getElementById('geocoder').appendChild(geocoder.onAdd(map));
    </script>
{% endblock %}
